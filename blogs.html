<!DOCTYPE html>
<html>
<head>
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<title>Ramya</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Nunito:wght@700&display=swap" rel="stylesheet">	
	<link rel="stylesheet" type="text/css" href="styles.css">
	<style type="text/css">
	  li{
	  	padding-bottom: 0.5rem;
	  }
	</style>
</head>
<body>
	<div class="bar">
		<div class="segment"></div>
		<div class="segment"></div>
		<div class="segment"></div>
		<div class="segment"></div>
		<div class="segment"></div>
		<div class="segment"></div>
	</div>	
	<div class="content">
		<a style="text-decoration: none;color: inherit;" href="index.html"><h1 class="heading-green">Ramya</h1></a>
		<h2 class="heading-brwn">Blogs I've read &#128214; and loved ðŸ«¶</h2>
		<h4 class="heading-lbrwn">Why this curation? you may ask:</h4>
		Advanced and convoluted articles sometimes created the feeling that i don't know enough. Over time i've learnt how to find articles relevant to me. This space is an attempt to curate some of the best, beginner friendly articles i read so that it could be the starting point for someone new. Read at your own discretion. ðŸ˜‰
		
		<h3 class="heading-green">What i read in ...</h3>
		<div id="articles">
			Loading... <br>(Bare with the delay until i find a better alternative)
		</div>
	</div>
	<script>
		async function fetchData() {
			    // Replace 'your-api-endpoint' with the actual API endpoint you want to hit
			    const apiUrl = 'https://script.google.com/macros/s/AKfycbw_w66UZ17XzukBSrx_QUbFdcGPZgl-DrN4IwY1TXJVadc23HzDNYB28LJ9Vj0iyx_Q_g/exec';

			    try {
			        // Make a GET request using the fetch function
			        const response = await fetch(apiUrl);

			        // Check if the response status is OK (200)
			        if (!response.ok) {
			        	throw new Error(`HTTP error! Status: ${response.status}`);
			        }

			        // Parse the response as JSON
			        const data = await response.json();
			        var oldMonYear = '';
			        var html = '';
			        // Print each link as a clickable tag
			        data.forEach(item => {
			        	const link = item.link;
			        	const name = item.name;
			        	const type = item.type;
			        	const author = item.author;
			        	const monYear = item.monYear;
			        	const day = item.day;
			        	if (oldMonYear != monYear) {
			        		html += `<h4 class="heading-brwn">${monYear}</h4>`;
			        		oldMonYear = monYear;
			        	}
			        	html += `<ul><li>Day ${day} <a href=${link}>${name} - ${author}</a>`
			        	if (item.type != 'Misc') {
			        		html += `<span class="label_info">${type}</span>`
			        	}
			        	html += `</li></ul>`
			        	document.getElementById('articles').innerHTML = html;
			        });
			        const collection = document.getElementsByClassName('label_info');
			        for(var i=0;i<collection.length;i++){
			        	const label=collection[i].innerHTML;
			        	if(label=='Tech'){
			        		collection[i].classList.add("bg-green");
			        	}else if(label == 'Finance'){
			        		collection[i].classList.add("bg-lgrain");
			        	}else if(label == 'Philosophy'){
			        		collection[i].classList.add("bg-dtan");
			        	}else{
			        		collection[i].classList.add("bg-lbrwn");
			        	}
			    	}
					
			        // Print the JSON data to the console
			        console.log('JSON response:', data);
			    } catch (error) {
			        // Handle any errors that occurred during the fetch
			        console.error('Fetch error:', error);
			    }
			}
			// Call the function to initiate the asynchronous fetch
			fetchData();
		</script>
	</body>
	</html>